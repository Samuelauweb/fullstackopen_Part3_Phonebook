{"version":3,"sources":["components/Person.js","components/Persons.js","components/FilterPerson.js","components/NewPerson.js","services/person.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDeleteChange","name","number","onClick","Persons","filteredPerson","map","id","FilterPerson","search","handleSearchChange","value","onChange","NewPerson","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","exportedObject","getAll","axios","get","create","personObject","post","update","put","deletePerson","delete","Notification","message","className","text","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","console","log","personService","then","response","data","filter","toLowerCase","includes","event","target","preventDefault","Math","floor","random","length","window","confirm","previousPerson","find","p","renewPerson","setTimeout","catch","error","concat","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7345f5a0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, handleDeleteChange }) => {\n  return (\n    <div>\n      {person.name} {person.number}{' '}\n      <button onClick={handleDeleteChange}>delete</button>\n    </div>\n  )\n}\n\nexport default Person\n","// renders all people from the phonebook\nimport React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ filteredPerson, handleDeleteChange }) => {\n  return (\n    <ul>\n      {filteredPerson.map((person) => (\n        <Person person={person} key={person.id} handleDeleteChange={handleDeleteChange(person.name, person.id)} />\n      ))}\n    </ul>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst FilterPerson = ({ search, handleSearchChange }) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default FilterPerson\n","// the form for adding new people into the phonebook\nimport React from 'react';\n\nconst NewPerson = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewPerson","import axios from \"axios\"\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (personObject) => {\n  return axios.post(baseUrl, personObject)\n}\n\nconst update = (id, personObject) => {\n  return axios.put(`${baseUrl}/${id}`, personObject)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  deletePerson\n}\n\nexport default exportedObject\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={`notification notification-${message.type}`}>{message.text}</div>\n  )\n}\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport FilterPerson from './components/FilterPerson'\nimport NewPerson from './components/NewPerson'\nimport personService from './services/person'\nimport Notification from './components/Notification'\n// import axios from 'axios'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState('some message...')\n\n  useEffect(() => {\n    console.log('GET request')\n    personService.getAll().then((response) => {\n      console.log(response.data)\n      setPersons(response.data)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: Math.floor(Math.random() * 101),\n    }\n\n    if (\n      persons.filter((person) => person.name === personObject.name).length > 0\n    ) {\n      // console.log('personObject:', persons.filter((person) => person.name === personObject.name))\n      if (\n        window.confirm(\n          `${personObject.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const previousPerson = persons.find((p) => p.name === newName)\n        const renewPerson = { ...previousPerson, number: newNumber }\n\n        personService\n          .update(previousPerson.id, renewPerson)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== previousPerson.id ? person : response.data\n              )\n            )\n            setMessage({\n              text: `Updated ${renewPerson.name}`,\n              type: 'success',\n            })\n            setNewName('')\n            setNewNumber('')\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch((error) => {\n            setMessage({\n              text: `Information of ${renewPerson.name} has already been removed from server`,\n              type: 'error',\n            })\n            console.log(error)\n          })\n        // alert(`${newName} is already added to phonebook`)\n      }\n    } else {\n      personService.create(personObject).then((response) => {\n        console.log('POST request')\n        // console.log('post request: ', personObject, response.data);\n        setPersons(persons.concat(response.data))\n        setMessage({\n          text: `Added ${personObject.name}`,\n          type: 'success',\n        })\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n    }\n  }\n\n  const filteredPerson = persons.filter((person) => {\n    return person.name.toLowerCase().includes(search)\n  })\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setSearch(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleDeleteChange = (name, id) => {\n    return () => {\n      if (window.confirm(`Delete ${name} ?`)) {\n        personService\n          .deletePerson(id)\n          .then(() => {\n            setPersons(persons.filter((n) => n.id !== id))\n            setMessage({\n              text: `Deleted ${name}`,\n              type: 'success',\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch((error) => {\n            setMessage({\n              text: `The person '${name}' was already deleted from server`,\n              type: 'error',\n            })\n          })\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <FilterPerson search={search} handleSearchChange={handleSearchChange} />\n      <h2>add a new person</h2>\n      <NewPerson\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {/* <div>debug: {newName}</div> */}\n      <Persons\n        filteredPerson={filteredPerson}\n        handleDeleteChange={handleDeleteChange}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n// import axios from 'axios'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// const promise = axios\n//   .get('http://localhost:3001/notes')\n//   // console.log(\"Promise1: \", promise)\n//   .then((response) => {\n//     const notes = response.data\n//     console.log('notes:', notes)\n//     // console.log('response:', response)\n//     ReactDOM.render(<App notes={notes} />, document.getElementById('root'))\n//   })\n\n// const promise2 = axios.get('http://localhost:3001/foobar')\n// console.log('Promise2: ', promise2)\n\n// const notes = [\n//   {\n//     id: 1,\n//     content: 'HTML is easy',\n//     date: '2019-05-30T17:30:31.098Z',\n//     important: true,\n//   },\n//   {\n//     id: 2,\n//     content: 'Browser can execute only JavaScript',\n//     date: '2019-05-30T18:39:34.091Z',\n//     important: false,\n//   },\n//   {\n//     id: 3,\n//     content: 'GET and POST are the most important methods of HTTP protocol',\n//     date: '2019-05-30T19:20:14.298Z',\n//     important: true,\n//   },\n// ]\n\n// ReactDOM.render(<App notes={notes} />, document.getElementById('root'))\n"],"sourceRoot":""}